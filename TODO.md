# TODO 清单

## 📋 优先级说明
- 🔴 **高优先级** - 重要且紧急
- 🟡 **中优先级** - 重要但不紧急
- 🟢 **低优先级** - 可以延后处理

---

## 🔴 高优先级任务

### 1. 完善单元测试覆盖率
- [ ] 为 `check` 模块添加单元测试
  - [ ] `ssh.rs` - SSH连接和命令执行测试
  - [ ] `mysql.rs` - MySQL连接测试
  - [ ] `oracle.rs` - Oracle连接测试
  - [ ] `windows.rs` - Windows远程执行测试
  - [ ] `redis.rs` - Redis连接测试
- [ ] 为 `pentest` 模块添加单元测试
  - [ ] `fingerprint.rs` - 指纹识别测试
  - [ ] `port_handshake.rs` - 协议握手测试
  - [ ] `urlscan.rs` - URL扫描测试
  - [ ] `poctest.rs` - POC测试
  - [ ] `screenshot.rs` - 截图功能测试
- [ ] 添加集成测试
  - [ ] 端到端测试场景
  - [ ] 模拟真实网络环境

### 2. 错误处理增强
- [ ] 统一所有模块的错误类型
  - [ ] 创建 `src/error.rs` 定义项目级错误类型
  - [ ] 实现 `From` trait 方便错误转换
- [ ] 为每个模块添加自定义错误类型
- [ ] 改进错误消息的用户友好性
- [ ] 添加错误恢复机制

### 3. 性能优化
- [ ] 添加性能基准测试（使用 criterion）
- [ ] 优化大规模扫描的内存使用
- [ ] 实现流式处理避免一次性加载所有结果
- [ ] 优化协议探测的顺序和策略
- [ ] 添加连接池复用机制

---

## 🟡 中优先级任务

### 4. 功能增强

#### Ping 模块
- [ ] 支持 TCP Ping（针对禁用 ICMP 的主机）
- [ ] 添加 Ping 扫描的统计图表
- [ ] 支持导出多种格式（JSON、CSV、HTML）
- [ ] 添加历史对比功能

#### 端口扫描模块
- [ ] 实现 SYN 扫描（需要 root 权限）
- [ ] 添加 UDP 端口扫描
- [ ] 支持扫描策略配置（快速/普通/详细）
- [ ] 实现服务版本检测增强
- [ ] 添加漏洞匹配功能（基于 CVE）
- [ ] 支持自定义指纹规则
- [ ] 添加扫描结果对比功能

#### Check 模块
- [ ] 优化基线采集的并发处理
- [ ] 添加采集进度保存和恢复
- [ ] 支持自定义采集脚本
- [ ] 添加结果自动分析功能
- [ ] 实现合规性检查报告

### 5. 配置管理
- [ ] 支持配置文件（TOML/YAML）
  - [ ] 默认参数配置
  - [ ] 扫描策略配置
  - [ ] 输出格式配置
- [ ] 支持配置文件验证
- [ ] 添加配置文件示例和文档

### 6. 日志系统
- [ ] 集成日志框架（如 `tracing`）
- [ ] 支持多级别日志（debug/info/warn/error）
- [ ] 日志输出到文件
- [ ] 结构化日志（JSON格式）
- [ ] 日志轮转和归档
- [ ] 审计日志记录

### 7. 输出格式优化
- [ ] 支持 JSON 输出
- [ ] 支持 CSV 输出
- [ ] 支持 HTML 报告
- [ ] 支持 PDF 报告
- [ ] 支持自定义模板
- [ ] 添加图表和可视化

---

## 🟢 低优先级任务

### 8. 用户界面增强
- [ ] 添加彩色输出支持（使用 `colored` 或 `termcolor`）
- [ ] 改进表格显示（使用 `prettytable-rs`）
- [ ] 添加交互式模式
- [ ] 支持实时刷新显示
- [ ] 添加 ASCII 艺术 Logo

### 9. Web UI 开发
- [ ] 设计 RESTful API
- [ ] 实现后端服务
- [ ] 开发前端界面
- [ ] 实时扫描进度展示
- [ ] 历史记录查询
- [ ] 用户权限管理

### 10. 插件系统
- [ ] 设计插件架构
- [ ] 实现插件加载机制
- [ ] 提供插件开发 SDK
- [ ] 创建插件示例
- [ ] 插件市场/仓库

### 11. 分布式扫描
- [ ] 设计分布式架构
- [ ] 实现任务分发机制
- [ ] 节点管理和监控
- [ ] 结果汇总和合并
- [ ] 负载均衡

### 12. 数据库支持
- [ ] 添加扫描结果持久化
- [ ] 支持多种数据库（SQLite/PostgreSQL/MySQL）
- [ ] 实现历史记录查询
- [ ] 添加数据导入导出
- [ ] 实现数据分析功能

---

## 📚 文档完善

### 13. 用户文档
- [ ] 编写详细的使用手册
- [ ] 添加更多使用示例
- [ ] 创建视频教程
- [ ] 编写常见问题解答（FAQ）
- [ ] 添加故障排查指南

### 14. 开发者文档
- [ ] 完善 API 文档
- [ ] 编写架构设计文档
- [ ] 添加贡献指南
- [ ] 创建代码风格指南
- [ ] 编写插件开发文档

### 15. 部署文档
- [ ] Docker 部署指南
- [ ] Kubernetes 部署指南
- [ ] 性能调优指南
- [ ] 安全配置指南

---

## 🔧 工具和基础设施

### 16. CI/CD
- [ ] 设置 GitHub Actions 或 GitLab CI
- [ ] 自动化测试
- [ ] 自动化构建
- [ ] 自动化发布
- [ ] 代码质量检查
- [ ] 安全扫描

### 17. 发布管理
- [ ] 设置版本号规范（语义化版本）
- [ ] 编写 CHANGELOG
- [ ] 创建发布脚本
- [ ] 多平台构建（Linux/Windows/macOS）
- [ ] 发布到包管理器（cargo/homebrew/apt）

### 18. 代码质量
- [ ] 设置 pre-commit hooks
- [ ] 配置 clippy 规则
- [ ] 设置代码覆盖率目标（80%+）
- [ ] 添加静态分析工具
- [ ] 定期代码审查

---

## 🛡️ 安全性

### 19. 安全增强
- [ ] 添加输入验证和清理
- [ ] 防止命令注入
- [ ] 实现速率限制
- [ ] 添加认证和授权
- [ ] 敏感信息加密存储
- [ ] 安全审计
- [ ] 依赖漏洞扫描

### 20. 合规性
- [ ] 添加使用声明和警告
- [ ] 实现操作审计日志
- [ ] 添加数据隐私保护
- [ ] 支持合规报告生成

---

## 🌐 国际化

### 21. 多语言支持
- [ ] 提取可翻译字符串
- [ ] 实现 i18n 框架
- [ ] 添加英文翻译
- [ ] 添加其他语言翻译
- [ ] 支持语言切换

---

## 📊 监控和分析

### 22. 性能监控
- [ ] 添加性能指标收集
- [ ] 实现性能监控面板
- [ ] 异常检测和告警
- [ ] 资源使用统计

### 23. 使用分析
- [ ] 收集使用统计（可选，尊重隐私）
- [ ] 分析常用功能
- [ ] 优化用户体验

---

## 🎯 具体优化建议

### 代码级优化

#### utils.rs
```rust
// TODO: 实现缓存机制，避免重复解析相同的IP段
// TODO: 添加 IP 范围合并功能
// TODO: 实现批量操作的流式API
```

#### ping.rs
```rust
// TODO: 实现 TCP Ping fallback
// TODO: 添加 ping 结果缓存
// TODO: 支持自定义 ICMP 包大小
```

#### portscan.rs
```rust
// TODO: 实现智能端口选择（基于历史数据）
// TODO: 添加扫描结果去重
// TODO: 实现增量扫描（只扫描变化的部分）
// TODO: 支持扫描暂停和恢复
```

### 架构优化

```
src/
├── core/           # 核心功能
│   ├── scanner/   # 扫描引擎
│   ├── parser/    # 解析器
│   └── detector/  # 检测器
├── modules/       # 功能模块
│   ├── net/       # 网络模块
│   ├── pentest/   # 渗透测试
│   └── check/     # 基线检查
├── storage/       # 存储层
│   ├── db/        # 数据库
│   └── cache/     # 缓存
├── api/           # API层
├── ui/            # 用户界面
│   ├── cli/       # 命令行
│   └── web/       # Web界面
└── common/        # 公共组件
    ├── error/     # 错误处理
    ├── config/    # 配置管理
    └── utils/     # 工具函数
```

---

## 🎓 学习和研究

### 24. 技术研究
- [ ] 研究新的扫描技术
- [ ] 学习其他工具的实现
- [ ] 跟踪最新安全动态
- [ ] 参与安全社区讨论

### 25. 性能基准对比
- [ ] 与 nmap 性能对比
- [ ] 与 masscan 性能对比
- [ ] 与其他工具功能对比
- [ ] 优化方案总结

---

## 📅 里程碑规划

### v0.3.0 (短期目标 - 1-2个月)
- [ ] 完成高优先级测试覆盖
- [ ] 统一错误处理
- [ ] 添加基准测试
- [ ] 完善文档

### v0.4.0 (中期目标 - 3-6个月)
- [ ] 配置文件支持
- [ ] 日志系统
- [ ] 多格式输出
- [ ] 性能优化

### v1.0.0 (长期目标 - 6-12个月)
- [ ] Web UI
- [ ] 插件系统
- [ ] 分布式扫描
- [ ] 完整文档

---

## 💡 创意功能

### 未来可能的功能
- [ ] AI驱动的漏洞检测
- [ ] 自动化渗透测试
- [ ] 威胁情报集成
- [ ] 攻击面管理
- [ ] 安全态势感知
- [ ] 自动化响应
- [ ] 区块链集成（审计不可篡改）
- [ ] 移动端应用

---

## 📝 注意事项

1. **性能优先**: 所有新功能都要考虑性能影响
2. **向后兼容**: 尽量保持API稳定性
3. **安全第一**: 确保工具不被滥用
4. **用户体验**: 保持命令行简洁易用
5. **代码质量**: 保持高质量代码标准

---

## 🤝 贡献指南

如果你想帮助完成这些任务：

1. 选择一个任务
2. 创建 Issue 说明你的计划
3. Fork 项目并创建分支
4. 实现功能并添加测试
5. 提交 Pull Request
6. 等待代码审查

---

## 📞 联系方式

- GitHub Issues: 报告 Bug 或提建议
- Pull Requests: 贡献代码
- Discussions: 讨论新功能

---

**最后更新**: 2024年
**维护者**: GX Tools Team